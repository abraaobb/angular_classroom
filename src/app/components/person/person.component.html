<div class="container mt-4">
  <div class="mb-3">
    <button class="btn btn-primary" (click)="createNew()">
      <i class="fas fa-plus"></i> Novo
    </button>
  </div>


  <div class="table-responsive mt-4">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nome</th>
        <th scope="col">Email</th>
        <th scope="col">Tipo</th>
        <th scope="col">Ações</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let person of people">
        <td>{{ person.id }}</td>
        <td>{{ person.name }}</td>
        <td>{{ person.email }}</td>
        <td>
                <span [ngSwitch]="person.type">
                  <span *ngSwitchCase="'student'" class="badge bg-primary">Estudante</span>
                  <span *ngSwitchCase="'teacher'" class="badge bg-success">Professor</span>
                  <span *ngSwitchCase="'staff'" class="badge bg-info">Funcionário</span>
                  <span *ngSwitchDefault class="badge bg-secondary">{{ person.type }}</span>
                </span>
        </td>
        <td>
          <div class="btn-group" role="group">
            <button
              class="btn btn-info btn-sm"
              (click)="viewPerson(person)"
              title="Visualizar">
              <i class="fas fa-eye"></i>
            </button>
            <button
              class="btn btn-warning btn-sm"
              (click)="editPerson(person)"
              title="Editar">
              <i class="fas fa-edit"></i>
            </button>
            <button
              class="btn btn-danger btn-sm"
              (click)="deletePerson(person.id!)"
              title="Excluir">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Loading spinner -->
  <div *ngIf="loading" class="text-center">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Carregando...</span>
    </div>
  </div>

  <!-- Error message -->
  <div *ngIf="error" class="alert alert-danger mt-3" role="alert">
    {{ error }}
  </div>
</div>
